<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#div1{
				width: 100px;
				height: 100px;
				position: absolute;
				background-color: pink;
				text-align: center;
				
			}
			#div2{
				width: 100px;
				height: 100px;
				background-color: lightgreen;
				font-size: 2em;
				position: absolute;
				top:300px;
				left: 180px;
			}
		</style>
	</head>
	<body>
		<div id="div1">头</div>
		<div id="div2">物体</div>
	</body>
	<script type="text/javascript">
		var div1 = document.getElementById("div1");
		var div2 = document.getElementById("div2");
		div1.onmousedown = function(ev){
//			alert("mouse down");
		var ev = ev || window.event;
		var distanceX = ev.clientX - div1.offsetLeft;
		var distanceY = ev.clientY - div1.offsetTop;
		
		
		document.onmousemove = function(ev){
//			var ev = ev || window.event;
			var x = ev.clientX - distanceX;
			var y = ev.clientY - distanceY;
			
			var l1 = div1.offsetLeft;
			var r1 = l1 + div1.offsetWidth;
			var t1 = div1.offsetTop;
			var b1 = t1 + div1.offsetHeight;
			
			var l2 = div2.offsetLeft;
			var r2 = l2 + div2.offsetWidth;
			var t2 = div2.offsetTop;
			var b2 = t2 + div2.offsetHeight;
			
			if(b1 < t2 || r1 < l2 || t1 > b2 || l1 > r2){
				div2.style.backgroundColor = "lightgreen";
			}else{
				div2.style.backgroundColor = "red";
			}
			div1.style.left = x + "px";
			div1.style.top = y + "px";
//			在鼠标抬起的时候，让move事件置空
			document.onmouseup = function(){
				document.onmousemove = null;
			}
			return false;
			}
		}
//		div1.onmouseup = function(){
////			alert("mouse up");
//		}
//		div1.onmousemove = function(){
////		console.log("mouse move");
//		}
////		document.onkeydown = function(){
////			switch(event.keyCode){	
////			}
//		}

	</script>
</html>
