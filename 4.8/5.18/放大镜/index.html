<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>hello world</title>
		<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
		<style type="text/css">
		#minWrap{
		position: relative;
			width: 350px;
				height: 350px;
			
		}
			f  
			
			#minWrap img {
				width: 350px;
				height: 350px;
				
			}
			
			#slider {
				width: 135px;
				height: 135px;
				background-color: yellow;
				position: absolute;
				left: 0;
				top: 0;
				opacity: 0.3;
				display: none;
			}
			
			#maxWrap {
				position: absolute;
				left: 400px;
				top: 10px;
				width: 400px;
				height: 400px;
				border: 1px solid #CCCCCC;
				overflow: hidden;
				display: none;
			}
			
			#maxWrap img {
				position: absolute;
			}
		</style>
		<script type="text/javascript">
		</script>
	</head>

	<body>
		<div id="minWrap">
			<img src="min.jpg" />
			<div id="slider">
			</div>
		</div>
		<div id="maxWrap">
			<img src="max.jpg" />
		</div>
	</body>
	<script type="text/javascript">
		$(function($) {
			$("#minWrap").mousemove(function(event) {
				$("#slider").show();
				$("#maxWrap").show();
				//从事件里面找位置
				//			小黄快的横向位置
				var x = event.clientX - $("#slider").width() / 2 - $("#minWrap").offset().left;
				
				var y = event.clientY - $("#slider").height() / 2 - $("#minWrap").offset().top;
				//			console.log(y);
				var maxX = $("#minWrap").width()-$("#slider").width()
				var maxY = $("#minWrap").height() - $("#slider").height();
				
				if (x <= 0){
					x = 0;
				} 
				else if (x >= maxX) {
					x = maxX;
				}
				
				
				
				if (y <= 0) {
					y = 0;
				} else if (y >= maxY) {
					y = maxY;
				}
				//			console.log(x);
				$("#slider").css({
					left: x,
					top: y,
				});
				//			当前移动的位置/可以移动的位置
				var scaleX = x / maxX;
				var scaleY = y / maxY;
				$("#maxWrap img").css({
					left:-scaleX*($("#maxWrap img").width()-$("#maxWrap").width()),
					top:-scaleY*($("#maxWrap img").height()-$("#maxWrap").height()),
				});	
			});
			$("#minWrap").mouseleave(function(){
					$("#slider").hide();
					$("#maxWrap").hide();
				});
		});
	</script>

</html>